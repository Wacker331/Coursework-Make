Line: 1 - COMMENT: "# Capstone Disassembly Engine"
Line: 1 - SEPARATOR: "
"
Line: 2 - COMMENT: "# By Nguyen Anh Quynh <aquynh@gmail.com>, 2013-2014"
Line: 2 - SEPARATOR: "
"
Line: 3 - EMPTY_LINE: "
"
Line: 4 - INCLUDE: "include config.mk"
Line: 4 - SEPARATOR: "
"
Line: 5 - INCLUDE: "include pkgconfig.mk	"
Line: 5 - COMMENT: "# package version"
Line: 5 - SEPARATOR: "
"
Line: 6 - INCLUDE: "include functions.mk"
Line: 6 - SEPARATOR: "
"
Line: 7 - EMPTY_LINE: "
"
Line: 8 - COMMENT: "# Verbose output?"
Line: 8 - SEPARATOR: "
"
Line: 9 - VARIABLE: "V ?= 0"
Line: 9 - SEPARATOR: "
"
Line: 10 - EMPTY_LINE: "
"
Line: 11 - VARIABLE: "OS := $(shell uname)"
Line: 11 - SEPARATOR: "
"
Line: 12 - IFEQ: "ifeq ($(OS),Darwin)"
Line: 12 - SEPARATOR: "
"
Line: 13 - VARIABLE: "LIBARCHS ?= x86_64 arm64"
Line: 13 - SEPARATOR: "
"
Line: 14 - VARIABLE: "PREFIX ?= /usr/local"
Line: 14 - SEPARATOR: "
"
Line: 15 - ENDIF: "endif"
Line: 15 - SEPARATOR: "
"
Line: 16 - EMPTY_LINE: "
"
Line: 17 - IFEQ: "ifeq ($(PKG_EXTRA),)"
Line: 17 - SEPARATOR: "
"
Line: 18 - VARIABLE: "PKG_VERSION = $(PKG_MAJOR).$(PKG_MINOR)"
Line: 18 - SEPARATOR: "
"
Line: 19 - ELSE: "else"
Line: 19 - SEPARATOR: "
"
Line: 20 - VARIABLE: "PKG_VERSION = $(PKG_MAJOR).$(PKG_MINOR).$(PKG_EXTRA)"
Line: 20 - SEPARATOR: "
"
Line: 21 - ENDIF: "endif"
Line: 21 - SEPARATOR: "
"
Line: 22 - EMPTY_LINE: "
"
Line: 23 - IFEQ: "ifeq ($(CROSS),)"
Line: 23 - SEPARATOR: "
"
Line: 24 - VARIABLE: "RANLIB ?= ranlib"
Line: 24 - SEPARATOR: "
"
Line: 25 - ELSE: "else "
Line: 25 - IFEQ: "ifeq ($(ANDROID), 1)"
Line: 25 - SEPARATOR: "
"
Line: 26 - VARIABLE: "CC = $(CROSS)/../../bin/clang"
Line: 26 - SEPARATOR: "
"
Line: 27 - VARIABLE: "AR = $(CROSS)/ar"
Line: 27 - SEPARATOR: "
"
Line: 28 - VARIABLE: "RANLIB = $(CROSS)/ranlib"
Line: 28 - SEPARATOR: "
"
Line: 29 - VARIABLE: "STRIP = $(CROSS)/strip"
Line: 29 - SEPARATOR: "
"
Line: 30 - ELSE: "else"
Line: 30 - SEPARATOR: "
"
Line: 31 - VARIABLE: "CC = $(CROSS)gcc"
Line: 31 - SEPARATOR: "
"
Line: 32 - VARIABLE: "AR = $(CROSS)ar"
Line: 32 - SEPARATOR: "
"
Line: 33 - VARIABLE: "RANLIB = $(CROSS)ranlib"
Line: 33 - SEPARATOR: "
"
Line: 34 - VARIABLE: "STRIP = $(CROSS)strip"
Line: 34 - SEPARATOR: "
"
Line: 35 - ENDIF: "endif"
Line: 35 - SEPARATOR: "
"
Line: 36 - EMPTY_LINE: "
"
Line: 37 - IFEQ: "ifeq ($(OS),OS/390)"
Line: 37 - SEPARATOR: "
"
Line: 38 - VARIABLE: "RANLIB = touch"
Line: 38 - SEPARATOR: "
"
Line: 39 - ENDIF: "endif"
Line: 39 - SEPARATOR: "
"
Line: 40 - EMPTY_LINE: "
"
Line: 41 - IFEQ: "ifneq (,$(findstring yes,$(CAPSTONE_DIET)))"
Line: 41 - SEPARATOR: "
"
Line: 42 - VARIABLE: "CFLAGS ?= -Os"
Line: 42 - SEPARATOR: "
"
Line: 43 - VARIABLE: "CFLAGS += -DCAPSTONE_DIET"
Line: 43 - SEPARATOR: "
"
Line: 44 - ELSE: "else"
Line: 44 - SEPARATOR: "
"
Line: 45 - VARIABLE: "CFLAGS ?= -O3"
Line: 45 - SEPARATOR: "
"
Line: 46 - ENDIF: "endif"
Line: 46 - SEPARATOR: "
"
Line: 47 - EMPTY_LINE: "
"
Line: 48 - COMMENT: "# C99 has been enforced elsewhere like xcode"
Line: 48 - SEPARATOR: "
"
Line: 49 - VARIABLE: "CFLAGS += -std=gnu99"
Line: 49 - SEPARATOR: "
"
Line: 50 - EMPTY_LINE: "
"
Line: 51 - IFEQ: "ifneq (,$(findstring yes,$(CAPSTONE_X86_ATT_DISABLE)))"
Line: 51 - SEPARATOR: "
"
Line: 52 - VARIABLE: "CFLAGS += -DCAPSTONE_X86_ATT_DISABLE"
Line: 52 - SEPARATOR: "
"
Line: 53 - ENDIF: "endif"
Line: 53 - SEPARATOR: "
"
Line: 54 - EMPTY_LINE: "
"
Line: 55 - IFEQ: "ifeq ($(CC),xlc)"
Line: 55 - SEPARATOR: "
"
Line: 56 - VARIABLE: "CFLAGS += -qcpluscmt -qkeyword=inline -qlanglvl=extc1x -Iinclude"
Line: 56 - SEPARATOR: "
"
Line: 57 - IFEQ: "ifneq ($(OS),OS/390)"
Line: 57 - SEPARATOR: "
"
Line: 58 - VARIABLE: "CFLAGS += -fPIC"
Line: 58 - SEPARATOR: "
"
Line: 59 - ENDIF: "endif"
Line: 59 - SEPARATOR: "
"
Line: 60 - ELSE: "else"
Line: 60 - SEPARATOR: "
"
Line: 61 - VARIABLE: "CFLAGS += -fPIC -Wall -Wwrite-strings -Wmissing-prototypes -Iinclude"
Line: 61 - SEPARATOR: "
"
Line: 62 - ENDIF: "endif"
Line: 62 - SEPARATOR: "
"
Line: 63 - EMPTY_LINE: "
"
Line: 64 - IFEQ: "ifeq ($(CAPSTONE_USE_SYS_DYN_MEM),yes)"
Line: 64 - SEPARATOR: "
"
Line: 65 - VARIABLE: "CFLAGS += -DCAPSTONE_USE_SYS_DYN_MEM"
Line: 65 - SEPARATOR: "
"
Line: 66 - ENDIF: "endif"
Line: 66 - SEPARATOR: "
"
Line: 67 - EMPTY_LINE: "
"
Line: 68 - IFEQ: "ifeq ($(CAPSTONE_HAS_OSXKERNEL), yes)"
Line: 68 - SEPARATOR: "
"
Line: 69 - VARIABLE: "CFLAGS += -DCAPSTONE_HAS_OSXKERNEL"
Line: 69 - SEPARATOR: "
"
Line: 70 - VARIABLE: "SDKROOT ?= $(shell xcodebuild -version -sdk macosx Path)"
Line: 70 - SEPARATOR: "
"
Line: 71 - VARIABLE: "CFLAGS += -mmacosx-version-min=10.5 \
		  -isysroot$(SDKROOT) \
		  -I$(SDKROOT)/System/Library/Frameworks/Kernel.framework/Headers \
		  -mkernel \
		  -fno-builtin"
Line: 71 - SEPARATOR: "
"
Line: 72 - ENDIF: "endif"
Line: 72 - SEPARATOR: "
"
Line: 73 - EMPTY_LINE: "
"
Line: 74 - VARIABLE: "PREFIX ?= /usr"
Line: 74 - SEPARATOR: "
"
Line: 75 - VARIABLE: "DESTDIR ?="
Line: 75 - SEPARATOR: "
"
Line: 76 - IFDEF: "ifndef BUILDDIR"
Line: 76 - SEPARATOR: "
"
Line: 77 - VARIABLE: "BLDIR = ."
Line: 77 - SEPARATOR: "
"
Line: 78 - VARIABLE: "OBJDIR = ."
Line: 78 - SEPARATOR: "
"
Line: 79 - ELSE: "else"
Line: 79 - SEPARATOR: "
"
Line: 80 - VARIABLE: "BLDIR = $(abspath $(BUILDDIR))"
Line: 80 - SEPARATOR: "
"
Line: 81 - VARIABLE: "OBJDIR = $(BLDIR)/obj"
Line: 81 - SEPARATOR: "
"
Line: 82 - ENDIF: "endif"
Line: 82 - SEPARATOR: "
"
Line: 83 - VARIABLE: "INCDIR ?= $(PREFIX)/include"
Line: 83 - SEPARATOR: "
"
Line: 84 - EMPTY_LINE: "
"
Line: 85 - VARIABLE: "UNAME_S := $(shell uname -s)"
Line: 85 - SEPARATOR: "
"
Line: 86 - EMPTY_LINE: "
"
Line: 87 - VARIABLE: "LIBDIRARCH ?= lib"
Line: 87 - SEPARATOR: "
"
Line: 88 - COMMENT: "# Uncomment the below line to installs x86_64 libs to lib64/ directory."
Line: 88 - SEPARATOR: "
"
Line: 89 - COMMENT: "# Or better, pass 'LIBDIRARCH=lib64' to 'make install/uninstall' via 'make.sh'."
Line: 89 - SEPARATOR: "
"
Line: 90 - COMMENT: "#LIBDIRARCH ?= lib64"
Line: 90 - SEPARATOR: "
"
Line: 91 - VARIABLE: "LIBDIR = $(DESTDIR)$(PREFIX)/$(LIBDIRARCH)"
Line: 91 - SEPARATOR: "
"
Line: 92 - VARIABLE: "BINDIR = $(DESTDIR)$(PREFIX)/bin"
Line: 92 - SEPARATOR: "
"
Line: 93 - EMPTY_LINE: "
"
Line: 94 - VARIABLE: "LIBDATADIR = $(LIBDIR)"
Line: 94 - SEPARATOR: "
"
Line: 95 - EMPTY_LINE: "
"
Line: 96 - COMMENT: "# Don't redefine $LIBDATADIR when global environment variable"
Line: 96 - SEPARATOR: "
"
Line: 97 - COMMENT: "# USE_GENERIC_LIBDATADIR is set. This is used by the pkgsrc framework."
Line: 97 - SEPARATOR: "
"
Line: 98 - EMPTY_LINE: "
"
Line: 99 - IFDEF: "ifndef USE_GENERIC_LIBDATADIR"
Line: 99 - SEPARATOR: "
"
Line: 100 - IFEQ: "ifeq ($(UNAME_S), FreeBSD)"
Line: 100 - SEPARATOR: "
"
Line: 101 - VARIABLE: "LIBDATADIR = $(DESTDIR)$(PREFIX)/libdata"
Line: 101 - SEPARATOR: "
"
Line: 102 - ENDIF: "endif"
Line: 102 - SEPARATOR: "
"
Line: 103 - IFEQ: "ifeq ($(UNAME_S), DragonFly)"
Line: 103 - SEPARATOR: "
"
Line: 104 - VARIABLE: "LIBDATADIR = $(DESTDIR)$(PREFIX)/libdata"
Line: 104 - SEPARATOR: "
"
Line: 105 - ENDIF: "endif"
Line: 105 - SEPARATOR: "
"
Line: 106 - ENDIF: "endif"
Line: 106 - SEPARATOR: "
"
Line: 107 - EMPTY_LINE: "
"
Line: 108 - VARIABLE: "INSTALL_BIN ?= install"
Line: 108 - SEPARATOR: "
"
Line: 109 - VARIABLE: "INSTALL_DATA ?= $(INSTALL_BIN) -m0644"
Line: 109 - SEPARATOR: "
"
Line: 110 - VARIABLE: "INSTALL_LIB ?= $(INSTALL_BIN) -m0755"
Line: 110 - SEPARATOR: "
"
Line: 111 - EMPTY_LINE: "
"
Line: 112 - VARIABLE: "LIBNAME = capstone"
Line: 112 - SEPARATOR: "
"
Line: 113 - EMPTY_LINE: "
"
Line: 114 - EMPTY_LINE: "
"
Line: 115 - VARIABLE: "DEP_ARM ="
Line: 115 - SEPARATOR: "
"
Line: 116 - VARIABLE: "DEP_ARM += $(wildcard arch/ARM/ARM*.inc)"
Line: 116 - SEPARATOR: "
"
Line: 117 - EMPTY_LINE: "
"
Line: 118 - VARIABLE: "LIBOBJ_ARM ="
Line: 118 - SEPARATOR: "
"
Line: 119 - IFEQ: "ifneq (,$(findstring arm,$(CAPSTONE_ARCHS)))"
Line: 119 - SEPARATOR: "
"
Line: 120 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_ARM"
Line: 120 - SEPARATOR: "
"
Line: 121 - RECIPE: "	LIBSRC_ARM += $(wildcard arch/ARM/ARM*.c)"
Line: 121 - SEPARATOR: "
"
Line: 122 - RECIPE: "	LIBOBJ_ARM += $(LIBSRC_ARM:%.c=$(OBJDIR)/%.o)"
Line: 122 - SEPARATOR: "
"
Line: 123 - ENDIF: "endif"
Line: 123 - SEPARATOR: "
"
Line: 124 - EMPTY_LINE: "
"
Line: 125 - VARIABLE: "DEP_AARCH64 ="
Line: 125 - SEPARATOR: "
"
Line: 126 - VARIABLE: "DEP_AARCH64 += $(wildcard arch/AArch64/AArch64*.inc)"
Line: 126 - SEPARATOR: "
"
Line: 127 - EMPTY_LINE: "
"
Line: 128 - VARIABLE: "LIBOBJ_AARCH64 ="
Line: 128 - SEPARATOR: "
"
Line: 129 - IFEQ: "ifneq (,$(findstring aarch64,$(CAPSTONE_ARCHS)))"
Line: 129 - SEPARATOR: "
"
Line: 130 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_ARM64"
Line: 130 - SEPARATOR: "
"
Line: 131 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_AARCH64"
Line: 131 - SEPARATOR: "
"
Line: 132 - RECIPE: "	LIBSRC_AARCH64 += $(wildcard arch/AArch64/AArch64*.c)"
Line: 132 - SEPARATOR: "
"
Line: 133 - RECIPE: "	LIBOBJ_AARCH64 += $(LIBSRC_AARCH64:%.c=$(OBJDIR)/%.o)"
Line: 133 - SEPARATOR: "
"
Line: 134 - ENDIF: "endif"
Line: 134 - SEPARATOR: "
"
Line: 135 - EMPTY_LINE: "
"
Line: 136 - EMPTY_LINE: "
"
Line: 137 - VARIABLE: "DEP_M68K ="
Line: 137 - SEPARATOR: "
"
Line: 138 - VARIABLE: "DEP_M68K += $(wildcard arch/M68K/M68K*.inc)"
Line: 138 - SEPARATOR: "
"
Line: 139 - VARIABLE: "DEP_M68K += $(wildcard arch/M68K/M68K*.h)"
Line: 139 - SEPARATOR: "
"
Line: 140 - EMPTY_LINE: "
"
Line: 141 - VARIABLE: "LIBOBJ_M68K ="
Line: 141 - SEPARATOR: "
"
Line: 142 - IFEQ: "ifneq (,$(findstring m68k,$(CAPSTONE_ARCHS)))"
Line: 142 - SEPARATOR: "
"
Line: 143 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_M68K"
Line: 143 - SEPARATOR: "
"
Line: 144 - RECIPE: "	LIBSRC_M68K += $(wildcard arch/M68K/M68K*.c)"
Line: 144 - SEPARATOR: "
"
Line: 145 - RECIPE: "	LIBOBJ_M68K += $(LIBSRC_M68K:%.c=$(OBJDIR)/%.o)"
Line: 145 - SEPARATOR: "
"
Line: 146 - ENDIF: "endif"
Line: 146 - SEPARATOR: "
"
Line: 147 - EMPTY_LINE: "
"
Line: 148 - VARIABLE: "DEP_MIPS ="
Line: 148 - SEPARATOR: "
"
Line: 149 - VARIABLE: "DEP_MIPS += $(wildcard arch/Mips/Mips*.inc)"
Line: 149 - SEPARATOR: "
"
Line: 150 - EMPTY_LINE: "
"
Line: 151 - VARIABLE: "LIBOBJ_MIPS ="
Line: 151 - SEPARATOR: "
"
Line: 152 - IFEQ: "ifneq (,$(findstring mips,$(CAPSTONE_ARCHS)))"
Line: 152 - SEPARATOR: "
"
Line: 153 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_MIPS"
Line: 153 - SEPARATOR: "
"
Line: 154 - RECIPE: "	LIBSRC_MIPS += $(wildcard arch/Mips/Mips*.c)"
Line: 154 - SEPARATOR: "
"
Line: 155 - RECIPE: "	LIBOBJ_MIPS += $(LIBSRC_MIPS:%.c=$(OBJDIR)/%.o)"
Line: 155 - SEPARATOR: "
"
Line: 156 - ENDIF: "endif"
Line: 156 - SEPARATOR: "
"
Line: 157 - EMPTY_LINE: "
"
Line: 158 - VARIABLE: "DEP_SH = $(wildcard arch/SH/SH*.inc)"
Line: 158 - SEPARATOR: "
"
Line: 159 - EMPTY_LINE: "
"
Line: 160 - VARIABLE: "LIBOBJ_SH ="
Line: 160 - SEPARATOR: "
"
Line: 161 - IFEQ: "ifneq (,$(findstring sh,$(CAPSTONE_ARCHS)))"
Line: 161 - SEPARATOR: "
"
Line: 162 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_SH"
Line: 162 - SEPARATOR: "
"
Line: 163 - RECIPE: "	LIBSRC_SH += $(wildcard arch/SH/SH*.c)"
Line: 163 - SEPARATOR: "
"
Line: 164 - RECIPE: "	LIBOBJ_SH += $(LIBSRC_SH:%.c=$(OBJDIR)/%.o)"
Line: 164 - SEPARATOR: "
"
Line: 165 - ENDIF: "endif"
Line: 165 - SEPARATOR: "
"
Line: 166 - EMPTY_LINE: "
"
Line: 167 - VARIABLE: "DEP_PPC ="
Line: 167 - SEPARATOR: "
"
Line: 168 - VARIABLE: "DEP_PPC += $(wildcard arch/PowerPC/PPC*.inc)"
Line: 168 - SEPARATOR: "
"
Line: 169 - EMPTY_LINE: "
"
Line: 170 - VARIABLE: "LIBOBJ_PPC ="
Line: 170 - SEPARATOR: "
"
Line: 171 - IFEQ: "ifneq (,$(findstring powerpc,$(CAPSTONE_ARCHS)))"
Line: 171 - SEPARATOR: "
"
Line: 172 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_POWERPC"
Line: 172 - SEPARATOR: "
"
Line: 173 - RECIPE: "	LIBSRC_PPC += $(wildcard arch/PowerPC/PPC*.c)"
Line: 173 - SEPARATOR: "
"
Line: 174 - RECIPE: "	LIBOBJ_PPC += $(LIBSRC_PPC:%.c=$(OBJDIR)/%.o)"
Line: 174 - SEPARATOR: "
"
Line: 175 - ENDIF: "endif"
Line: 175 - SEPARATOR: "
"
Line: 176 - EMPTY_LINE: "
"
Line: 177 - EMPTY_LINE: "
"
Line: 178 - VARIABLE: "DEP_SPARC ="
Line: 178 - SEPARATOR: "
"
Line: 179 - VARIABLE: "DEP_SPARC += $(wildcard arch/Sparc/Sparc*.inc)"
Line: 179 - SEPARATOR: "
"
Line: 180 - EMPTY_LINE: "
"
Line: 181 - VARIABLE: "LIBOBJ_SPARC ="
Line: 181 - SEPARATOR: "
"
Line: 182 - IFEQ: "ifneq (,$(findstring sparc,$(CAPSTONE_ARCHS)))"
Line: 182 - SEPARATOR: "
"
Line: 183 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_SPARC"
Line: 183 - SEPARATOR: "
"
Line: 184 - RECIPE: "	LIBSRC_SPARC += $(wildcard arch/Sparc/Sparc*.c)"
Line: 184 - SEPARATOR: "
"
Line: 185 - RECIPE: "	LIBOBJ_SPARC += $(LIBSRC_SPARC:%.c=$(OBJDIR)/%.o)"
Line: 185 - SEPARATOR: "
"
Line: 186 - ENDIF: "endif"
Line: 186 - SEPARATOR: "
"
Line: 187 - EMPTY_LINE: "
"
Line: 188 - EMPTY_LINE: "
"
Line: 189 - VARIABLE: "DEP_SYSZ ="
Line: 189 - SEPARATOR: "
"
Line: 190 - VARIABLE: "DEP_SYSZ += $(wildcard arch/SystemZ/SystemZ*.inc)"
Line: 190 - SEPARATOR: "
"
Line: 191 - EMPTY_LINE: "
"
Line: 192 - VARIABLE: "LIBOBJ_SYSZ ="
Line: 192 - SEPARATOR: "
"
Line: 193 - IFEQ: "ifneq (,$(findstring systemz,$(CAPSTONE_ARCHS)))"
Line: 193 - SEPARATOR: "
"
Line: 194 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_SYSZ"
Line: 194 - SEPARATOR: "
"
Line: 195 - RECIPE: "	LIBSRC_SYSZ += $(wildcard arch/SystemZ/SystemZ*.c)"
Line: 195 - SEPARATOR: "
"
Line: 196 - RECIPE: "	LIBOBJ_SYSZ += $(LIBSRC_SYSZ:%.c=$(OBJDIR)/%.o)"
Line: 196 - SEPARATOR: "
"
Line: 197 - ENDIF: "endif"
Line: 197 - SEPARATOR: "
"
Line: 198 - EMPTY_LINE: "
"
Line: 199 - EMPTY_LINE: "
"
Line: 200 - COMMENT: "# by default, we compile full X86 instruction sets"
Line: 200 - SEPARATOR: "
"
Line: 201 - VARIABLE: "X86_REDUCE ="
Line: 201 - SEPARATOR: "
"
Line: 202 - IFEQ: "ifneq (,$(findstring yes,$(CAPSTONE_X86_REDUCE)))"
Line: 202 - SEPARATOR: "
"
Line: 203 - VARIABLE: "X86_REDUCE = _reduce"
Line: 203 - SEPARATOR: "
"
Line: 204 - VARIABLE: "CFLAGS += -DCAPSTONE_X86_REDUCE -Os"
Line: 204 - SEPARATOR: "
"
Line: 205 - ENDIF: "endif"
Line: 205 - SEPARATOR: "
"
Line: 206 - EMPTY_LINE: "
"
Line: 207 - EMPTY_LINE: "
"
Line: 208 - VARIABLE: "DEP_X86 ="
Line: 208 - SEPARATOR: "
"
Line: 209 - VARIABLE: "DEP_X86 += $(wildcard arch/X86/X86*.inc)"
Line: 209 - SEPARATOR: "
"
Line: 210 - EMPTY_LINE: "
"
Line: 211 - VARIABLE: "LIBOBJ_X86 ="
Line: 211 - SEPARATOR: "
"
Line: 212 - IFEQ: "ifneq (,$(findstring x86,$(CAPSTONE_ARCHS)))"
Line: 212 - SEPARATOR: "
"
Line: 213 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_X86"
Line: 213 - SEPARATOR: "
"
Line: 214 - RECIPE: "	LIBOBJ_X86 += $(OBJDIR)/arch/X86/X86DisassemblerDecoder.o"
Line: 214 - SEPARATOR: "
"
Line: 215 - RECIPE: "	LIBOBJ_X86 += $(OBJDIR)/arch/X86/X86Disassembler.o"
Line: 215 - SEPARATOR: "
"
Line: 216 - RECIPE: "	LIBOBJ_X86 += $(OBJDIR)/arch/X86/X86InstPrinterCommon.o"
Line: 216 - SEPARATOR: "
"
Line: 217 - RECIPE: "	LIBOBJ_X86 += $(OBJDIR)/arch/X86/X86IntelInstPrinter.o"
Line: 217 - SEPARATOR: "
"
Line: 218 - COMMENT: "# assembly syntax is irrelevant in Diet mode, when this info is suppressed"
Line: 218 - SEPARATOR: "
"
Line: 219 - IFEQ: "ifeq (,$(findstring yes,$(CAPSTONE_DIET)))"
Line: 219 - SEPARATOR: "
"
Line: 220 - IFEQ: "ifeq (,$(findstring yes,$(CAPSTONE_X86_ATT_DISABLE)))"
Line: 220 - SEPARATOR: "
"
Line: 221 - RECIPE: "	LIBOBJ_X86 += $(OBJDIR)/arch/X86/X86ATTInstPrinter.o"
Line: 221 - SEPARATOR: "
"
Line: 222 - ENDIF: "endif"
Line: 222 - SEPARATOR: "
"
Line: 223 - ENDIF: "endif"
Line: 223 - SEPARATOR: "
"
Line: 224 - RECIPE: "	LIBOBJ_X86 += $(OBJDIR)/arch/X86/X86Mapping.o"
Line: 224 - SEPARATOR: "
"
Line: 225 - RECIPE: "	LIBOBJ_X86 += $(OBJDIR)/arch/X86/X86Module.o"
Line: 225 - SEPARATOR: "
"
Line: 226 - ENDIF: "endif"
Line: 226 - SEPARATOR: "
"
Line: 227 - EMPTY_LINE: "
"
Line: 228 - EMPTY_LINE: "
"
Line: 229 - VARIABLE: "DEP_XCORE ="
Line: 229 - SEPARATOR: "
"
Line: 230 - VARIABLE: "DEP_XCORE += $(wildcard arch/XCore/XCore*.inc)"
Line: 230 - SEPARATOR: "
"
Line: 231 - EMPTY_LINE: "
"
Line: 232 - VARIABLE: "LIBOBJ_XCORE ="
Line: 232 - SEPARATOR: "
"
Line: 233 - IFEQ: "ifneq (,$(findstring xcore,$(CAPSTONE_ARCHS)))"
Line: 233 - SEPARATOR: "
"
Line: 234 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_XCORE"
Line: 234 - SEPARATOR: "
"
Line: 235 - RECIPE: "	LIBSRC_XCORE += $(wildcard arch/XCore/XCore*.c)"
Line: 235 - SEPARATOR: "
"
Line: 236 - RECIPE: "	LIBOBJ_XCORE += $(LIBSRC_XCORE:%.c=$(OBJDIR)/%.o)"
Line: 236 - SEPARATOR: "
"
Line: 237 - ENDIF: "endif"
Line: 237 - SEPARATOR: "
"
Line: 238 - EMPTY_LINE: "
"
Line: 239 - EMPTY_LINE: "
"
Line: 240 - VARIABLE: "DEP_TMS320C64X ="
Line: 240 - SEPARATOR: "
"
Line: 241 - VARIABLE: "DEP_TMS320C64X += $(wildcard arch/TMS320C64x/TMS320C64x*.inc)"
Line: 241 - SEPARATOR: "
"
Line: 242 - EMPTY_LINE: "
"
Line: 243 - VARIABLE: "LIBOBJ_TMS320C64X ="
Line: 243 - SEPARATOR: "
"
Line: 244 - IFEQ: "ifneq (,$(findstring tms320c64x,$(CAPSTONE_ARCHS)))"
Line: 244 - SEPARATOR: "
"
Line: 245 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_TMS320C64X"
Line: 245 - SEPARATOR: "
"
Line: 246 - RECIPE: "	LIBSRC_TMS320C64X += $(wildcard arch/TMS320C64x/TMS320C64x*.c)"
Line: 246 - SEPARATOR: "
"
Line: 247 - RECIPE: "	LIBOBJ_TMS320C64X += $(LIBSRC_TMS320C64X:%.c=$(OBJDIR)/%.o)"
Line: 247 - SEPARATOR: "
"
Line: 248 - ENDIF: "endif"
Line: 248 - SEPARATOR: "
"
Line: 249 - EMPTY_LINE: "
"
Line: 250 - VARIABLE: "DEP_M680X ="
Line: 250 - SEPARATOR: "
"
Line: 251 - VARIABLE: "DEP_M680X += $(wildcard arch/M680X/*.inc)"
Line: 251 - SEPARATOR: "
"
Line: 252 - VARIABLE: "DEP_M680X += $(wildcard arch/M680X/M680X*.h)"
Line: 252 - SEPARATOR: "
"
Line: 253 - EMPTY_LINE: "
"
Line: 254 - VARIABLE: "LIBOBJ_M680X ="
Line: 254 - SEPARATOR: "
"
Line: 255 - IFEQ: "ifneq (,$(findstring m680x,$(CAPSTONE_ARCHS)))"
Line: 255 - SEPARATOR: "
"
Line: 256 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_M680X"
Line: 256 - SEPARATOR: "
"
Line: 257 - RECIPE: "	LIBSRC_M680X += $(wildcard arch/M680X/*.c)"
Line: 257 - SEPARATOR: "
"
Line: 258 - RECIPE: "	LIBOBJ_M680X += $(LIBSRC_M680X:%.c=$(OBJDIR)/%.o)"
Line: 258 - SEPARATOR: "
"
Line: 259 - ENDIF: "endif"
Line: 259 - SEPARATOR: "
"
Line: 260 - EMPTY_LINE: "
"
Line: 261 - EMPTY_LINE: "
"
Line: 262 - VARIABLE: "DEP_EVM ="
Line: 262 - SEPARATOR: "
"
Line: 263 - VARIABLE: "DEP_EVM += $(wildcard arch/EVM/EVM*.inc)"
Line: 263 - SEPARATOR: "
"
Line: 264 - EMPTY_LINE: "
"
Line: 265 - VARIABLE: "LIBOBJ_EVM ="
Line: 265 - SEPARATOR: "
"
Line: 266 - IFEQ: "ifneq (,$(findstring evm,$(CAPSTONE_ARCHS)))"
Line: 266 - SEPARATOR: "
"
Line: 267 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_EVM"
Line: 267 - SEPARATOR: "
"
Line: 268 - RECIPE: "	LIBSRC_EVM += $(wildcard arch/EVM/EVM*.c)"
Line: 268 - SEPARATOR: "
"
Line: 269 - RECIPE: "	LIBOBJ_EVM += $(LIBSRC_EVM:%.c=$(OBJDIR)/%.o)"
Line: 269 - SEPARATOR: "
"
Line: 270 - ENDIF: "endif"
Line: 270 - SEPARATOR: "
"
Line: 271 - EMPTY_LINE: "
"
Line: 272 - VARIABLE: "DEP_RISCV ="
Line: 272 - SEPARATOR: "
"
Line: 273 - VARIABLE: "DEP_RISCV += $(wildcard arch/RISCV/RISCV*.inc)"
Line: 273 - SEPARATOR: "
"
Line: 274 - EMPTY_LINE: "
"
Line: 275 - VARIABLE: "LIBOBJ_RISCV ="
Line: 275 - SEPARATOR: "
"
Line: 276 - IFEQ: "ifneq (,$(findstring riscv,$(CAPSTONE_ARCHS)))"
Line: 276 - SEPARATOR: "
"
Line: 277 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_RISCV"
Line: 277 - SEPARATOR: "
"
Line: 278 - RECIPE: "	LIBSRC_RISCV += $(wildcard arch/RISCV/RISCV*.c)"
Line: 278 - SEPARATOR: "
"
Line: 279 - RECIPE: "	LIBOBJ_RISCV += $(LIBSRC_RISCV:%.c=$(OBJDIR)/%.o)"
Line: 279 - SEPARATOR: "
"
Line: 280 - ENDIF: "endif"
Line: 280 - SEPARATOR: "
"
Line: 281 - EMPTY_LINE: "
"
Line: 282 - VARIABLE: "DEP_WASM ="
Line: 282 - SEPARATOR: "
"
Line: 283 - VARIABLE: "DEP_WASM += $(wildcard arch/WASM/WASM*.inc)"
Line: 283 - SEPARATOR: "
"
Line: 284 - EMPTY_LINE: "
"
Line: 285 - VARIABLE: "LIBOBJ_WASM ="
Line: 285 - SEPARATOR: "
"
Line: 286 - IFEQ: "ifneq (,$(findstring wasm,$(CAPSTONE_ARCHS)))"
Line: 286 - SEPARATOR: "
"
Line: 287 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_WASM"
Line: 287 - SEPARATOR: "
"
Line: 288 - RECIPE: "	LIBSRC_WASM += $(wildcard arch/WASM/WASM*.c)"
Line: 288 - SEPARATOR: "
"
Line: 289 - RECIPE: "	LIBOBJ_WASM += $(LIBSRC_WASM:%.c=$(OBJDIR)/%.o)"
Line: 289 - SEPARATOR: "
"
Line: 290 - ENDIF: "endif"
Line: 290 - SEPARATOR: "
"
Line: 291 - EMPTY_LINE: "
"
Line: 292 - EMPTY_LINE: "
"
Line: 293 - VARIABLE: "DEP_MOS65XX ="
Line: 293 - SEPARATOR: "
"
Line: 294 - VARIABLE: "DEP_MOS65XX += $(wildcard arch/MOS65XX/MOS65XX*.inc)"
Line: 294 - SEPARATOR: "
"
Line: 295 - EMPTY_LINE: "
"
Line: 296 - VARIABLE: "LIBOBJ_MOS65XX ="
Line: 296 - SEPARATOR: "
"
Line: 297 - IFEQ: "ifneq (,$(findstring mos65xx,$(CAPSTONE_ARCHS)))"
Line: 297 - SEPARATOR: "
"
Line: 298 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_MOS65XX"
Line: 298 - SEPARATOR: "
"
Line: 299 - RECIPE: "	LIBSRC_MOS65XX += $(wildcard arch/MOS65XX/MOS65XX*.c)"
Line: 299 - SEPARATOR: "
"
Line: 300 - RECIPE: "	LIBOBJ_MOS65XX += $(LIBSRC_MOS65XX:%.c=$(OBJDIR)/%.o)"
Line: 300 - SEPARATOR: "
"
Line: 301 - ENDIF: "endif"
Line: 301 - SEPARATOR: "
"
Line: 302 - EMPTY_LINE: "
"
Line: 303 - EMPTY_LINE: "
"
Line: 304 - VARIABLE: "DEP_BPF ="
Line: 304 - SEPARATOR: "
"
Line: 305 - VARIABLE: "DEP_BPF += $(wildcard arch/BPF/BPF*.inc)"
Line: 305 - SEPARATOR: "
"
Line: 306 - EMPTY_LINE: "
"
Line: 307 - VARIABLE: "LIBOBJ_BPF ="
Line: 307 - SEPARATOR: "
"
Line: 308 - IFEQ: "ifneq (,$(findstring bpf,$(CAPSTONE_ARCHS)))"
Line: 308 - SEPARATOR: "
"
Line: 309 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_BPF"
Line: 309 - SEPARATOR: "
"
Line: 310 - RECIPE: "	LIBSRC_BPF += $(wildcard arch/BPF/BPF*.c)"
Line: 310 - SEPARATOR: "
"
Line: 311 - RECIPE: "	LIBOBJ_BPF += $(LIBSRC_BPF:%.c=$(OBJDIR)/%.o)"
Line: 311 - SEPARATOR: "
"
Line: 312 - ENDIF: "endif"
Line: 312 - SEPARATOR: "
"
Line: 313 - EMPTY_LINE: "
"
Line: 314 - VARIABLE: "DEP_TRICORE ="
Line: 314 - SEPARATOR: "
"
Line: 315 - VARIABLE: "DEP_TRICORE +=$(wildcard arch/TriCore/TriCore*.inc)"
Line: 315 - SEPARATOR: "
"
Line: 316 - EMPTY_LINE: "
"
Line: 317 - VARIABLE: "LIBOBJ_TRICORE ="
Line: 317 - SEPARATOR: "
"
Line: 318 - IFEQ: "ifneq (,$(findstring tricore,$(CAPSTONE_ARCHS)))"
Line: 318 - SEPARATOR: "
"
Line: 319 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_TRICORE"
Line: 319 - SEPARATOR: "
"
Line: 320 - RECIPE: "	LIBSRC_TRICORE += $(wildcard arch/TriCore/TriCore*.c)"
Line: 320 - SEPARATOR: "
"
Line: 321 - RECIPE: "	LIBOBJ_TRICORE += $(LIBSRC_TRICORE:%.c=$(OBJDIR)/%.o)"
Line: 321 - SEPARATOR: "
"
Line: 322 - ENDIF: "endif"
Line: 322 - SEPARATOR: "
"
Line: 323 - EMPTY_LINE: "
"
Line: 324 - VARIABLE: "DEP_ALPHA ="
Line: 324 - SEPARATOR: "
"
Line: 325 - VARIABLE: "DEP_ALPHA +=$(wildcard arch/Alpha/Alpha*.inc)"
Line: 325 - SEPARATOR: "
"
Line: 326 - EMPTY_LINE: "
"
Line: 327 - VARIABLE: "LIBOBJ_ALPHA ="
Line: 327 - SEPARATOR: "
"
Line: 328 - IFEQ: "ifneq (,$(findstring alpha,$(CAPSTONE_ARCHS)))"
Line: 328 - SEPARATOR: "
"
Line: 329 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_ALPHA"
Line: 329 - SEPARATOR: "
"
Line: 330 - RECIPE: "	LIBSRC_ALPHA += $(wildcard arch/Alpha/Alpha*.c)"
Line: 330 - SEPARATOR: "
"
Line: 331 - RECIPE: "	LIBOBJ_ALPHA += $(LIBSRC_ALPHA:%.c=$(OBJDIR)/%.o)"
Line: 331 - SEPARATOR: "
"
Line: 332 - ENDIF: "endif"
Line: 332 - SEPARATOR: "
"
Line: 333 - EMPTY_LINE: "
"
Line: 334 - VARIABLE: "DEP_HPPA ="
Line: 334 - SEPARATOR: "
"
Line: 335 - VARIABLE: "DEP_HPPA += $(wildcard arch/HPPA/HPPA*.inc)"
Line: 335 - SEPARATOR: "
"
Line: 336 - EMPTY_LINE: "
"
Line: 337 - VARIABLE: "LIBOBJ_HPPA ="
Line: 337 - SEPARATOR: "
"
Line: 338 - IFEQ: "ifneq (,$(findstring hppa,$(CAPSTONE_ARCHS)))"
Line: 338 - SEPARATOR: "
"
Line: 339 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_HPPA"
Line: 339 - SEPARATOR: "
"
Line: 340 - RECIPE: "	LIBSRC_HPPA += $(wildcard arch/HPPA/HPPA*.c)"
Line: 340 - SEPARATOR: "
"
Line: 341 - RECIPE: "	LIBOBJ_HPPA += $(LIBSRC_HPPA:%.c=$(OBJDIR)/%.o)"
Line: 341 - SEPARATOR: "
"
Line: 342 - ENDIF: "endif"
Line: 342 - SEPARATOR: "
"
Line: 343 - EMPTY_LINE: "
"
Line: 344 - VARIABLE: "DEP_LOONGARCH ="
Line: 344 - SEPARATOR: "
"
Line: 345 - VARIABLE: "DEP_LOONGARCH += $(wildcard arch/LoongArch/LoongArch*.inc)"
Line: 345 - SEPARATOR: "
"
Line: 346 - EMPTY_LINE: "
"
Line: 347 - VARIABLE: "LIBOBJ_LOONGARCH ="
Line: 347 - SEPARATOR: "
"
Line: 348 - IFEQ: "ifneq (,$(findstring loongarch,$(CAPSTONE_ARCHS)))"
Line: 348 - SEPARATOR: "
"
Line: 349 - RECIPE: "	CFLAGS += -DCAPSTONE_HAS_LOONGARCH"
Line: 349 - SEPARATOR: "
"
Line: 350 - RECIPE: "	LIBSRC_LOONGARCH += $(wildcard arch/LoongArch/LoongArch*.c)"
Line: 350 - SEPARATOR: "
"
Line: 351 - RECIPE: "	LIBOBJ_LOONGARCH += $(LIBSRC_LOONGARCH:%.c=$(OBJDIR)/%.o)"
Line: 351 - SEPARATOR: "
"
Line: 352 - ENDIF: "endif"
Line: 352 - SEPARATOR: "
"
Line: 353 - EMPTY_LINE: "
"
Line: 354 - VARIABLE: "LIBOBJ ="
Line: 354 - SEPARATOR: "
"
Line: 355 - VARIABLE: "LIBOBJ += $(OBJDIR)/cs.o $(OBJDIR)/utils.o $(OBJDIR)/SStream.o $(OBJDIR)/MCInstrDesc.o $(OBJDIR)/MCRegisterInfo.o $(OBJDIR)/MCInst.o $(OBJDIR)/MCInstPrinter.o $(OBJDIR)/Mapping.o"
Line: 355 - SEPARATOR: "
"
Line: 356 - VARIABLE: "LIBOBJ += $(LIBOBJ_ARM) $(LIBOBJ_AARCH64) $(LIBOBJ_M68K) $(LIBOBJ_MIPS) $(LIBOBJ_PPC) $(LIBOBJ_RISCV) $(LIBOBJ_SPARC) $(LIBOBJ_SYSZ) $(LIBOBJ_SH)"
Line: 356 - SEPARATOR: "
"
Line: 357 - VARIABLE: "LIBOBJ += $(LIBOBJ_X86) $(LIBOBJ_XCORE) $(LIBOBJ_TMS320C64X) $(LIBOBJ_M680X) $(LIBOBJ_EVM) $(LIBOBJ_MOS65XX) $(LIBOBJ_WASM) $(LIBOBJ_BPF)"
Line: 357 - SEPARATOR: "
"
Line: 358 - VARIABLE: "LIBOBJ += $(LIBOBJ_TRICORE) $(LIBOBJ_ALPHA) $(LIBOBJ_HPPA) $(LIBOBJ_LOONGARCH)"
Line: 358 - SEPARATOR: "
"
Line: 359 - EMPTY_LINE: "
"
Line: 360 - EMPTY_LINE: "
"
Line: 361 - IFEQ: "ifeq ($(PKG_EXTRA),)"
Line: 361 - SEPARATOR: "
"
Line: 362 - VARIABLE: "PKGCFGDIR = $(LIBDATADIR)/pkgconfig"
Line: 362 - SEPARATOR: "
"
Line: 363 - ELSE: "else"
Line: 363 - SEPARATOR: "
"
Line: 364 - VARIABLE: "PKGCFGDIR ?= $(LIBDATADIR)/pkgconfig"
Line: 364 - SEPARATOR: "
"
Line: 365 - IFEQ: "ifeq ($(PKGCFGDIR),)"
Line: 365 - SEPARATOR: "
"
Line: 366 - VARIABLE: "PKGCFGDIR = $(LIBDATADIR)/pkgconfig"
Line: 366 - SEPARATOR: "
"
Line: 367 - ENDIF: "endif"
Line: 367 - SEPARATOR: "
"
Line: 368 - ENDIF: "endif"
Line: 368 - SEPARATOR: "
"
Line: 369 - EMPTY_LINE: "
"
Line: 370 - VARIABLE: "API_MAJOR=$(shell echo `grep -e CS_API_MAJOR include/capstone/capstone.h | grep -v = | awk '{print $$3}'` | awk '{print $$1}')"
Line: 370 - SEPARATOR: "
"
Line: 371 - VARIABLE: "VERSION_EXT ="
Line: 371 - SEPARATOR: "
"
Line: 372 - EMPTY_LINE: "
"
Line: 373 - VARIABLE: "IS_APPLE := $(shell $(CC) -dM -E - < /dev/null 2> /dev/null | grep __APPLE__ | wc -l | tr -d " ")"
Line: 373 - SEPARATOR: "
"
Line: 374 - IFEQ: "ifeq ($(IS_APPLE),1)"
Line: 374 - SEPARATOR: "
"
Line: 375 - COMMENT: "# on MacOS, do not build in Universal format by default"
Line: 375 - SEPARATOR: "
"
Line: 376 - VARIABLE: "MACOS_UNIVERSAL ?= no"
Line: 376 - SEPARATOR: "
"
Line: 377 - IFEQ: "ifeq ($(MACOS_UNIVERSAL),yes)"
Line: 377 - SEPARATOR: "
"
Line: 378 - VARIABLE: "CFLAGS += $(foreach arch,$(LIBARCHS),-arch $(arch))"
Line: 378 - SEPARATOR: "
"
Line: 379 - VARIABLE: "LDFLAGS += $(foreach arch,$(LIBARCHS),-arch $(arch))"
Line: 379 - SEPARATOR: "
"
Line: 380 - ENDIF: "endif"
Line: 380 - SEPARATOR: "
"
Line: 381 - VARIABLE: "EXT = dylib"
Line: 381 - SEPARATOR: "
"
Line: 382 - VARIABLE: "VERSION_EXT = $(API_MAJOR).$(EXT)"
Line: 382 - SEPARATOR: "
"
Line: 383 - VARIABLE_REPLACE: "$(LIBNAME)"
Line: 383 - VARIABLE: "_LDFLAGS += -dynamiclib -install_name lib$(LIBNAME).$(VERSION_EXT) -current_version $(PKG_MAJOR).$(PKG_MINOR).$(PKG_EXTRA) -compatibility_version $(PKG_MAJOR).$(PKG_MINOR)"
Line: 383 - SEPARATOR: "
"
Line: 384 - VARIABLE: "AR_EXT = a"
Line: 384 - SEPARATOR: "
"
Line: 385 - COMMENT: "# Homebrew wants to make sure its formula does not disable FORTIFY_SOURCE"
Line: 385 - SEPARATOR: "
"
Line: 386 - COMMENT: "# However, this is not really necessary because 'CAPSTONE_USE_SYS_DYN_MEM=yes' by default"
Line: 386 - SEPARATOR: "
"
Line: 387 - IFEQ: "ifneq ($(HOMEBREW_CAPSTONE),1)"
Line: 387 - SEPARATOR: "
"
Line: 388 - IFEQ: "ifneq ($(CAPSTONE_USE_SYS_DYN_MEM),yes)"
Line: 388 - SEPARATOR: "
"
Line: 389 - COMMENT: "# remove string check because OSX kernel complains about missing symbols"
Line: 389 - SEPARATOR: "
"
Line: 390 - VARIABLE: "CFLAGS += -D_FORTIFY_SOURCE=0"
Line: 390 - SEPARATOR: "
"
Line: 391 - ENDIF: "endif"
Line: 391 - SEPARATOR: "
"
Line: 392 - ENDIF: "endif"
Line: 392 - SEPARATOR: "
"
Line: 393 - ELSE: "else"
Line: 393 - SEPARATOR: "
"
Line: 394 - VARIABLE: "CFLAGS += $(foreach arch,$(LIBARCHS),-arch $(arch))"
Line: 394 - SEPARATOR: "
"
Line: 395 - VARIABLE: "LDFLAGS += $(foreach arch,$(LIBARCHS),-arch $(arch))"
Line: 395 - SEPARATOR: "
"
Line: 396 - IFEQ: "ifeq ($(OS), AIX)"
Line: 396 - SEPARATOR: "
"
Line: 397 - VARIABLE_REPLACE: "$(LIBNAME)"
Line: 397 - VARIABLE: "_LDFLAGS += -qmkshrobj"
Line: 397 - SEPARATOR: "
"
Line: 398 - ELSE: "else"
Line: 398 - SEPARATOR: "
"
Line: 399 - VARIABLE_REPLACE: "$(LIBNAME)"
Line: 399 - VARIABLE: "_LDFLAGS += -shared"
Line: 399 - SEPARATOR: "
"
Line: 400 - ENDIF: "endif"
Line: 400 - SEPARATOR: "
"
Line: 401 - COMMENT: "# Cygwin?"
Line: 401 - SEPARATOR: "
"
Line: 402 - VARIABLE: "IS_CYGWIN := $(shell $(CC) -dumpmachine 2>/dev/null | grep -i cygwin | wc -l)"
Line: 402 - SEPARATOR: "
"
Line: 403 - IFEQ: "ifeq ($(IS_CYGWIN),1)"
Line: 403 - SEPARATOR: "
"
Line: 404 - VARIABLE: "EXT = dll"
Line: 404 - SEPARATOR: "
"
Line: 405 - VARIABLE: "AR_EXT = lib"
Line: 405 - SEPARATOR: "
"
Line: 406 - COMMENT: "# Cygwin doesn't like -fPIC"
Line: 406 - SEPARATOR: "
"
Line: 407 - VARIABLE: "CFLAGS := $(CFLAGS:-fPIC=)"
Line: 407 - SEPARATOR: "
"
Line: 408 - COMMENT: "# On Windows we need the shared library to be executable"
Line: 408 - SEPARATOR: "
"
Line: 409 - ELSE: "else"
Line: 409 - SEPARATOR: "
"
Line: 410 - COMMENT: "# mingw?"
Line: 410 - SEPARATOR: "
"
Line: 411 - VARIABLE: "IS_MINGW := $(shell $(CC) --version 2>/dev/null | grep -i "\(mingw\|MSYS\)" | wc -l)"
Line: 411 - SEPARATOR: "
"
Line: 412 - IFEQ: "ifeq ($(IS_MINGW),1)"
Line: 412 - SEPARATOR: "
"
Line: 413 - VARIABLE: "EXT = dll"
Line: 413 - SEPARATOR: "
"
Line: 414 - VARIABLE: "AR_EXT = lib"
Line: 414 - SEPARATOR: "
"
Line: 415 - COMMENT: "# mingw doesn't like -fPIC either"
Line: 415 - SEPARATOR: "
"
Line: 416 - VARIABLE: "CFLAGS := $(CFLAGS:-fPIC=)"
Line: 416 - SEPARATOR: "
"
Line: 417 - COMMENT: "# On Windows we need the shared library to be executable"
Line: 417 - SEPARATOR: "
"
Line: 418 - ELSE: "else"
Line: 418 - SEPARATOR: "
"
Line: 419 - COMMENT: "# Linux, *BSD"
Line: 419 - SEPARATOR: "
"
Line: 420 - VARIABLE: "EXT = so"
Line: 420 - SEPARATOR: "
"
Line: 421 - VARIABLE: "VERSION_EXT = $(EXT).$(API_MAJOR)"
Line: 421 - SEPARATOR: "
"
Line: 422 - VARIABLE: "AR_EXT = a"
Line: 422 - SEPARATOR: "
"
Line: 423 - VARIABLE_REPLACE: "$(LIBNAME)"
Line: 423 - VARIABLE: "_LDFLAGS += -Wl,-soname,lib$(LIBNAME).$(VERSION_EXT)"
Line: 423 - SEPARATOR: "
"
Line: 424 - ENDIF: "endif"
Line: 424 - SEPARATOR: "
"
Line: 425 - ENDIF: "endif"
Line: 425 - SEPARATOR: "
"
Line: 426 - ENDIF: "endif"
Line: 426 - SEPARATOR: "
"
Line: 427 - EMPTY_LINE: "
"
Line: 428 - IFEQ: "ifeq ($(CAPSTONE_SHARED),yes)"
Line: 428 - SEPARATOR: "
"
Line: 429 - IFEQ: "ifeq ($(IS_MINGW),1)"
Line: 429 - SEPARATOR: "
"
Line: 430 - VARIABLE: "LIBRARY = $(BLDIR)/$(LIBNAME).$(VERSION_EXT)"
Line: 430 - SEPARATOR: "
"
Line: 431 - ELSE: "else "
Line: 431 - IFEQ: "ifeq ($(IS_CYGWIN),1)"
Line: 431 - SEPARATOR: "
"
Line: 432 - VARIABLE: "LIBRARY = $(BLDIR)/$(LIBNAME).$(EXT)"
Line: 432 - SEPARATOR: "
"
Line: 433 - ELSE: "else	"
Line: 433 - COMMENT: "# *nix"
Line: 433 - SEPARATOR: "
"
Line: 434 - VARIABLE: "LIBRARY = $(BLDIR)/lib$(LIBNAME).$(VERSION_EXT)"
Line: 434 - SEPARATOR: "
"
Line: 435 - VARIABLE: "CFLAGS += -fvisibility=hidden"
Line: 435 - SEPARATOR: "
"
Line: 436 - ENDIF: "endif"
Line: 436 - SEPARATOR: "
"
Line: 437 - ENDIF: "endif"
Line: 437 - SEPARATOR: "
"
Line: 438 - EMPTY_LINE: "
"
Line: 439 - IFEQ: "ifeq ($(CAPSTONE_STATIC),yes)"
Line: 439 - SEPARATOR: "
"
Line: 440 - IFEQ: "ifeq ($(IS_MINGW),1)"
Line: 440 - SEPARATOR: "
"
Line: 441 - VARIABLE: "ARCHIVE = $(BLDIR)/$(LIBNAME).$(AR_EXT)"
Line: 441 - SEPARATOR: "
"
Line: 442 - ELSE: "else "
Line: 442 - IFEQ: "ifeq ($(IS_CYGWIN),1)"
Line: 442 - SEPARATOR: "
"
Line: 443 - VARIABLE: "ARCHIVE = $(BLDIR)/$(LIBNAME).$(AR_EXT)"
Line: 443 - SEPARATOR: "
"
Line: 444 - ELSE: "else"
Line: 444 - SEPARATOR: "
"
Line: 445 - VARIABLE: "ARCHIVE = $(BLDIR)/lib$(LIBNAME).$(AR_EXT)"
Line: 445 - SEPARATOR: "
"
Line: 446 - ENDIF: "endif"
Line: 446 - SEPARATOR: "
"
Line: 447 - ENDIF: "endif"
Line: 447 - SEPARATOR: "
"
Line: 448 - EMPTY_LINE: "
"
Line: 449 - VARIABLE: "PKGCFGF = $(BLDIR)/$(LIBNAME).pc"
Line: 449 - SEPARATOR: "
"
Line: 450 - EMPTY_LINE: "
"
Line: 451 - SPECIAL_CONSTANTS: ".PHONY: all clean install uninstall dist"
Line: 451 - SEPARATOR: "
"
Line: 452 - EMPTY_LINE: "
"
Line: 453 - TARGET: "all: $(LIBRARY) $(ARCHIVE) $(PKGCFGF)"
Line: 453 - SEPARATOR: "
"
Line: 454 - IFEQ: "ifeq (,$(findstring yes,$(CAPSTONE_BUILD_CORE_ONLY)))"
Line: 454 - SEPARATOR: "
"
Line: 455 - RECIPE: "	@V=$(V) CC=$(CC) $(MAKE) -C cstool"
Line: 455 - SEPARATOR: "
"
Line: 456 - ENDIF: "endif"
Line: 456 - SEPARATOR: "
"
Line: 457 - EMPTY_LINE: "
"
Line: 458 - IFEQ: "ifeq ($(CAPSTONE_SHARED),yes)"
Line: 458 - SEPARATOR: "
"
Line: 459 - TARGET: "$(LIBRARY): $(LIBOBJ)"
Line: 459 - SEPARATOR: "
"
Line: 460 - IFEQ: "ifeq ($(V),0)"
Line: 460 - SEPARATOR: "
"
Line: 461 - RECIPE: "	$(call log,LINK,$(@:$(BLDIR)/%=%))"
Line: 461 - SEPARATOR: "
"
Line: 462 - RECIPE: "	@$(create-library)"
Line: 462 - SEPARATOR: "
"
Line: 463 - ELSE: "else"
Line: 463 - SEPARATOR: "
"
Line: 464 - RECIPE: "	$(create-library)"
Line: 464 - SEPARATOR: "
"
Line: 465 - ENDIF: "endif"
Line: 465 - SEPARATOR: "
"
Line: 466 - ENDIF: "endif"
Line: 466 - SEPARATOR: "
"
Line: 467 - EMPTY_LINE: "
"
Line: 468 - TARGET: "$(LIBOBJ): config.mk"
Line: 468 - SEPARATOR: "
"
Line: 469 - EMPTY_LINE: "
"
Line: 470 - TARGET: "$(LIBOBJ_ARM): $(DEP_ARM)"
Line: 470 - SEPARATOR: "
"
Line: 471 - TARGET: "$(LIBOBJ_AARCH64): $(DEP_AARCH64)"
Line: 471 - SEPARATOR: "
"
Line: 472 - TARGET: "$(LIBOBJ_M68K): $(DEP_M68K)"
Line: 472 - SEPARATOR: "
"
Line: 473 - TARGET: "$(LIBOBJ_MIPS): $(DEP_MIPS)"
Line: 473 - SEPARATOR: "
"
Line: 474 - TARGET: "$(LIBOBJ_PPC): $(DEP_PPC)"
Line: 474 - SEPARATOR: "
"
Line: 475 - TARGET: "$(LIBOBJ_SH): $(DEP_SH)"
Line: 475 - SEPARATOR: "
"
Line: 476 - TARGET: "$(LIBOBJ_SPARC): $(DEP_SPARC)"
Line: 476 - SEPARATOR: "
"
Line: 477 - TARGET: "$(LIBOBJ_SYSZ): $(DEP_SYSZ)"
Line: 477 - SEPARATOR: "
"
Line: 478 - TARGET: "$(LIBOBJ_X86): $(DEP_X86)"
Line: 478 - SEPARATOR: "
"
Line: 479 - TARGET: "$(LIBOBJ_XCORE): $(DEP_XCORE)"
Line: 479 - SEPARATOR: "
"
Line: 480 - TARGET: "$(LIBOBJ_TMS320C64X): $(DEP_TMS320C64X)"
Line: 480 - SEPARATOR: "
"
Line: 481 - TARGET: "$(LIBOBJ_M680X): $(DEP_M680X)"
Line: 481 - SEPARATOR: "
"
Line: 482 - TARGET: "$(LIBOBJ_EVM): $(DEP_EVM)"
Line: 482 - SEPARATOR: "
"
Line: 483 - TARGET: "$(LIBOBJ_RISCV): $(DEP_RISCV)"
Line: 483 - SEPARATOR: "
"
Line: 484 - TARGET: "$(LIBOBJ_WASM): $(DEP_WASM)"
Line: 484 - SEPARATOR: "
"
Line: 485 - TARGET: "$(LIBOBJ_MOS65XX): $(DEP_MOS65XX)"
Line: 485 - SEPARATOR: "
"
Line: 486 - TARGET: "$(LIBOBJ_BPF): $(DEP_BPF)"
Line: 486 - SEPARATOR: "
"
Line: 487 - TARGET: "$(LIBOBJ_TRICORE): $(DEP_TRICORE)"
Line: 487 - SEPARATOR: "
"
Line: 488 - TARGET: "$(LIBOBJ_ALPHA): $(DEP_ALPHA)"
Line: 488 - SEPARATOR: "
"
Line: 489 - TARGET: "$(LIBOBJ_HPPA): $(DEP_HPPA)"
Line: 489 - SEPARATOR: "
"
Line: 490 - TARGET: "$(LIBOBJ_LOONGARCH): $(DEP_LOONGARCH)"
Line: 490 - SEPARATOR: "
"
Line: 491 - EMPTY_LINE: "
"
Line: 492 - IFEQ: "ifeq ($(CAPSTONE_STATIC),yes)"
Line: 492 - SEPARATOR: "
"
Line: 493 - TARGET: "$(ARCHIVE): $(LIBOBJ)"
Line: 493 - SEPARATOR: "
"
Line: 494 - RECIPE: "	@rm -f $(ARCHIVE)"
Line: 494 - SEPARATOR: "
"
Line: 495 - IFEQ: "ifeq ($(V),0)"
Line: 495 - SEPARATOR: "
"
Line: 496 - RECIPE: "	$(call log,AR,$(@:$(BLDIR)/%=%))"
Line: 496 - SEPARATOR: "
"
Line: 497 - RECIPE: "	@$(create-archive)"
Line: 497 - SEPARATOR: "
"
Line: 498 - ELSE: "else"
Line: 498 - SEPARATOR: "
"
Line: 499 - RECIPE: "	$(create-archive)"
Line: 499 - SEPARATOR: "
"
Line: 500 - ENDIF: "endif"
Line: 500 - SEPARATOR: "
"
Line: 501 - COMMENT: "#endif"
Line: 501 - SEPARATOR: "
"
Line: 502 - EMPTY_LINE: "
"
Line: 503 - TARGET: "$(PKGCFGF):"
Line: 503 - SEPARATOR: "
"
Line: 504 - IFEQ: "ifeq ($(V),0)"
Line: 504 - SEPARATOR: "
"
Line: 505 - RECIPE: "	$(call log,GEN,$(@:$(BLDIR)/%=%))"
Line: 505 - SEPARATOR: "
"
Line: 506 - RECIPE: "	@$(generate-pkgcfg)"
Line: 506 - SEPARATOR: "
"
Line: 507 - ELSE: "else"
Line: 507 - SEPARATOR: "
"
Line: 508 - RECIPE: "	$(generate-pkgcfg)"
Line: 508 - SEPARATOR: "
"
Line: 509 - ENDIF: "endif"
Line: 509 - SEPARATOR: "
"
Line: 510 - EMPTY_LINE: "
"
Line: 511 - COMMENT: "# create a list of auto dependencies"
Line: 511 - SEPARATOR: "
"
Line: 512 - VARIABLE: "AUTODEPS:= $(patsubst %.o,%.d, $(LIBOBJ))"
Line: 512 - SEPARATOR: "
"
Line: 513 - EMPTY_LINE: "
"
Line: 514 - COMMENT: "# include by auto dependencies"
Line: 514 - SEPARATOR: "
"
Line: 515 - INCLUDE: "-include $(AUTODEPS)"
Line: 515 - SEPARATOR: "
"
Line: 516 - EMPTY_LINE: "
"
Line: 517 - TARGET: "install: $(PKGCFGF) $(ARCHIVE) $(LIBRARY)"
Line: 517 - SEPARATOR: "
"
Line: 518 - RECIPE: "	mkdir -p $(LIBDIR)"
Line: 518 - SEPARATOR: "
"
Line: 519 - RECIPE: "	$(call install-library,$(LIBDIR))"
Line: 519 - SEPARATOR: "
"
Line: 520 - IFEQ: "ifeq ($(CAPSTONE_STATIC),yes)"
Line: 520 - SEPARATOR: "
"
Line: 521 - RECIPE: "	$(INSTALL_DATA) $(ARCHIVE) $(LIBDIR)"
Line: 521 - SEPARATOR: "
"
Line: 522 - ENDIF: "endif"
Line: 522 - SEPARATOR: "
"
Line: 523 - RECIPE: "	mkdir -p $(DESTDIR)$(INCDIR)/$(LIBNAME)"
Line: 523 - SEPARATOR: "
"
Line: 524 - RECIPE: "	$(INSTALL_DATA) include/capstone/*.h $(DESTDIR)$(INCDIR)/$(LIBNAME)"
Line: 524 - SEPARATOR: "
"
Line: 525 - RECIPE: "	mkdir -p $(PKGCFGDIR)"
Line: 525 - SEPARATOR: "
"
Line: 526 - RECIPE: "	$(INSTALL_DATA) $(PKGCFGF) $(PKGCFGDIR)"
Line: 526 - SEPARATOR: "
"
Line: 527 - IFEQ: "ifeq (,$(findstring yes,$(CAPSTONE_BUILD_CORE_ONLY)))"
Line: 527 - SEPARATOR: "
"
Line: 528 - RECIPE: "	mkdir -p $(BINDIR)"
Line: 528 - SEPARATOR: "
"
Line: 529 - RECIPE: "	$(INSTALL_LIB) cstool/cstool $(BINDIR)"
Line: 529 - SEPARATOR: "
"
Line: 530 - ENDIF: "endif"
Line: 530 - SEPARATOR: "
"
Line: 531 - EMPTY_LINE: "
"
Line: 532 - TARGET: "uninstall:"
Line: 532 - SEPARATOR: "
"
Line: 533 - RECIPE: "	rm -rf $(DESTDIR)$(INCDIR)/$(LIBNAME)"
Line: 533 - SEPARATOR: "
"
Line: 534 - RECIPE: "	rm -f $(LIBDIR)/lib$(LIBNAME).*"
Line: 534 - SEPARATOR: "
"
Line: 535 - RECIPE: "	rm -f $(PKGCFGDIR)/$(LIBNAME).pc"
Line: 535 - SEPARATOR: "
"
Line: 536 - IFEQ: "ifeq (,$(findstring yes,$(CAPSTONE_BUILD_CORE_ONLY)))"
Line: 536 - SEPARATOR: "
"
Line: 537 - RECIPE: "	rm -f $(BINDIR)/cstool"
Line: 537 - SEPARATOR: "
"
Line: 538 - ENDIF: "endif"
Line: 538 - SEPARATOR: "
"
Line: 539 - EMPTY_LINE: "
"
Line: 540 - TARGET: "clean:"
Line: 540 - SEPARATOR: "
"
Line: 541 - RECIPE: "	rm -f $(LIBOBJ)"
Line: 541 - SEPARATOR: "
"
Line: 542 - RECIPE: "	rm -f $(BLDIR)/lib$(LIBNAME).* $(BLDIR)/$(LIBNAME).pc"
Line: 542 - SEPARATOR: "
"
Line: 543 - RECIPE: "	rm -f $(PKGCFGF)"
Line: 543 - SEPARATOR: "
"
Line: 544 - RECIPE: "	rm -f $(AUTODEPS)"
Line: 544 - SEPARATOR: "
"
Line: 545 - RECIPE: "	[ "${ANDROID}" = "1" ] && rm -rf android-ndk-* || true"
Line: 545 - SEPARATOR: "
"
Line: 546 - EMPTY_LINE: "
"
Line: 547 - IFEQ: "ifeq (,$(findstring yes,$(CAPSTONE_BUILD_CORE_ONLY)))"
Line: 547 - SEPARATOR: "
"
Line: 548 - RECIPE: "	$(MAKE) -C cstool clean"
Line: 548 - SEPARATOR: "
"
Line: 549 - RECIPE: "	$(MAKE) -C suite/fuzz clean"
Line: 549 - SEPARATOR: "
"
Line: 550 - ENDIF: "endif"
Line: 550 - SEPARATOR: "
"
Line: 551 - EMPTY_LINE: "
"
Line: 552 - IFDEF: "ifdef BUILDDIR"
Line: 552 - SEPARATOR: "
"
Line: 553 - RECIPE: "	rm -rf $(BUILDDIR)"
Line: 553 - SEPARATOR: "
"
Line: 554 - ENDIF: "endif"
Line: 554 - SEPARATOR: "
"
Line: 555 - EMPTY_LINE: "
"
Line: 556 - IFEQ: "ifeq (,$(findstring yes,$(CAPSTONE_BUILD_CORE_ONLY)))"
Line: 556 - SEPARATOR: "
"
Line: 557 - RECIPE: "	$(MAKE) -C bindings/python clean"
Line: 557 - SEPARATOR: "
"
Line: 558 - RECIPE: "	$(MAKE) -C bindings/java clean"
Line: 558 - SEPARATOR: "
"
Line: 559 - RECIPE: "	$(MAKE) -C bindings/ocaml clean"
Line: 559 - SEPARATOR: "
"
Line: 560 - ENDIF: "endif"
Line: 560 - SEPARATOR: "
"
Line: 561 - EMPTY_LINE: "
"
Line: 562 - EMPTY_LINE: "
"
Line: 563 - VARIABLE: "TAG ?= HEAD"
Line: 563 - SEPARATOR: "
"
Line: 564 - IFEQ: "ifeq ($(TAG), HEAD)"
Line: 564 - SEPARATOR: "
"
Line: 565 - VARIABLE: "DIST_VERSION = latest"
Line: 565 - SEPARATOR: "
"
Line: 566 - ELSE: "else"
Line: 566 - SEPARATOR: "
"
Line: 567 - VARIABLE: "DIST_VERSION = $(TAG)"
Line: 567 - SEPARATOR: "
"
Line: 568 - ENDIF: "endif"
Line: 568 - SEPARATOR: "
"
Line: 569 - EMPTY_LINE: "
"
Line: 570 - TARGET: "dist:"
Line: 570 - SEPARATOR: "
"
Line: 571 - RECIPE: "	git archive --format=tar.gz --prefix=capstone-$(DIST_VERSION)/ $(TAG) > capstone-$(DIST_VERSION).tgz"
Line: 571 - SEPARATOR: "
"
Line: 572 - RECIPE: "	git archive --format=zip --prefix=capstone-$(DIST_VERSION)/ $(TAG) > capstone-$(DIST_VERSION).zip"
Line: 572 - SEPARATOR: "
"
Line: 573 - EMPTY_LINE: "
"
Line: 574 - TARGET: "checkfuzz: fuzztest fuzzallcorp"
Line: 574 - SEPARATOR: "
"
Line: 575 - EMPTY_LINE: "
"
Line: 576 - VARIABLE: "FUZZ_INPUTS = $(shell find suite/MC -type f -name '*.cs')"
Line: 576 - SEPARATOR: "
"
Line: 577 - EMPTY_LINE: "
"
Line: 578 - TARGET: "buildfuzz:"
Line: 578 - SEPARATOR: "
"
Line: 579 - IFDEF: "ifndef BUILDDIR"
Line: 579 - SEPARATOR: "
"
Line: 580 - RECIPE: "	$(MAKE) -C suite/fuzz"
Line: 580 - SEPARATOR: "
"
Line: 581 - ELSE: "else"
Line: 581 - SEPARATOR: "
"
Line: 582 - RECIPE: "	$(MAKE) -C suite/fuzz BUILDDIR=$(BLDIR)"
Line: 582 - SEPARATOR: "
"
Line: 583 - ENDIF: "endif"
Line: 583 - SEPARATOR: "
"
Line: 584 - EMPTY_LINE: "
"
Line: 585 - TARGET: "fuzztest:"
Line: 585 - SEPARATOR: "
"
Line: 586 - RECIPE: "	./suite/fuzz/fuzz_disasm $(FUZZ_INPUTS)"
Line: 586 - SEPARATOR: "
"
Line: 587 - EMPTY_LINE: "
"
Line: 588 - TARGET: "fuzzallcorp:"
Line: 588 - SEPARATOR: "
"
Line: 589 - IFEQ: "ifneq ($(wildcard suite/fuzz/corpus-libFuzzer-capstone_fuzz_disasmnext-latest),)"
Line: 589 - SEPARATOR: "
"
Line: 590 - RECIPE: "	./suite/fuzz/fuzz_bindisasm suite/fuzz/corpus-libFuzzer-capstone_fuzz_disasmnext-latest/ > fuzz_bindisasm.log || (tail -1 fuzz_bindisasm.log; false)"
Line: 590 - SEPARATOR: "
"
Line: 591 - ELSE: "else"
Line: 591 - SEPARATOR: "
"
Line: 592 - RECIPE: "	@echo "Skipping tests on whole corpus""
Line: 592 - SEPARATOR: "
"
Line: 593 - ENDIF: "endif"
Line: 593 - SEPARATOR: "
"
Line: 594 - EMPTY_LINE: "
"
Line: 595 - TARGET: "$(OBJDIR)/%.o: %.c"
Line: 595 - SEPARATOR: "
"
Line: 596 - RECIPE: "	@mkdir -p $(@D)"
Line: 596 - SEPARATOR: "
"
Line: 597 - IFEQ: "ifeq ($(V),0)"
Line: 597 - SEPARATOR: "
"
Line: 598 - RECIPE: "	$(call log,CC,$(@:$(OBJDIR)/%=%))"
Line: 598 - SEPARATOR: "
"
Line: 599 - RECIPE: "	@$(compile)"
Line: 599 - SEPARATOR: "
"
Line: 600 - ELSE: "else"
Line: 600 - SEPARATOR: "
"
Line: 601 - RECIPE: "	$(compile)"
Line: 601 - SEPARATOR: "
"
Line: 602 - ENDIF: "endif"
Line: 602 - SEPARATOR: "
"
Line: 603 - EMPTY_LINE: "
"
Line: 604 - EMPTY_LINE: "
"
Line: 605 - IFEQ: "ifeq ($(CAPSTONE_SHARED),yes)"
Line: 605 - SEPARATOR: "
"
Line: 606 - DEFINE: "define install-library"
Line: 606 - SEPARATOR: "
"
Line: 607 - RECIPE: "	$(INSTALL_LIB) $(LIBRARY) $1"
Line: 607 - SEPARATOR: "
"
Line: 608 - RECIPE: "	$(if $(VERSION_EXT),"
Line: 608 - SEPARATOR: "
"
Line: 609 - RECIPE: "		cd $1 && \
		rm -f lib$(LIBNAME).$(EXT) && \
		ln -s lib$(LIBNAME).$(VERSION_EXT) lib$(LIBNAME).$(EXT))"
Line: 609 - SEPARATOR: "
"
Line: 610 - ENDEF: "endef"
Line: 610 - SEPARATOR: "
"
Line: 611 - ELSE: "else"
Line: 611 - SEPARATOR: "
"
Line: 612 - DEFINE: "define install-library"
Line: 612 - SEPARATOR: "
"
Line: 613 - ENDEF: "endef"
Line: 613 - SEPARATOR: "
"
Line: 614 - ENDIF: "endif"
Line: 614 - SEPARATOR: "
"
Line: 615 - EMPTY_LINE: "
"
Line: 616 - IFEQ: "ifeq ($(AR_FLAGS),)"
Line: 616 - SEPARATOR: "
"
Line: 617 - VARIABLE: "AR_FLAGS := q"
Line: 617 - SEPARATOR: "
"
Line: 618 - ENDIF: "endif"
Line: 618 - SEPARATOR: "
"
Line: 619 - EMPTY_LINE: "
"
Line: 620 - DEFINE: "define create-archive"
Line: 620 - SEPARATOR: "
"
Line: 621 - RECIPE: "	$(AR) $(AR_FLAGS) $(ARCHIVE) $(LIBOBJ)"
Line: 621 - SEPARATOR: "
"
Line: 622 - RECIPE: "	$(RANLIB) $(ARCHIVE)"
Line: 622 - SEPARATOR: "
"
Line: 623 - ENDEF: "endef"
Line: 623 - SEPARATOR: "
"
Line: 624 - EMPTY_LINE: "
"
Line: 625 - EMPTY_LINE: "
"
Line: 626 - DEFINE: "define create-library"
Line: 626 - SEPARATOR: "
"
Line: 627 - RECIPE: "	$(CC) $(LDFLAGS) $($(LIBNAME)_LDFLAGS) $(LIBOBJ) -o $(LIBRARY)"
Line: 627 - SEPARATOR: "
"
Line: 628 - ENDEF: "endef"
Line: 628 - SEPARATOR: "
"
Line: 629 - EMPTY_LINE: "
"
Line: 630 - EMPTY_LINE: "
"
Line: 631 - DEFINE: "define generate-pkgcfg"
Line: 631 - SEPARATOR: "
"
Line: 632 - RECIPE: "	mkdir -p $(BLDIR)"
Line: 632 - SEPARATOR: "
"
Line: 633 - RECIPE: "	echo 'Name: capstone' > $(PKGCFGF)"
Line: 633 - SEPARATOR: "
"
Line: 634 - RECIPE: "	echo 'Description: Capstone disassembly engine' >> $(PKGCFGF)"
Line: 634 - SEPARATOR: "
"
Line: 635 - RECIPE: "	echo 'Version: $(PKG_VERSION)' >> $(PKGCFGF)"
Line: 635 - SEPARATOR: "
"
Line: 636 - RECIPE: "	echo 'libdir=$(LIBDIR)' >> $(PKGCFGF)"
Line: 636 - SEPARATOR: "
"
Line: 637 - RECIPE: "	echo 'includedir=$(INCDIR)/capstone' >> $(PKGCFGF)"
Line: 637 - SEPARATOR: "
"
Line: 638 - RECIPE: "	echo 'archive=$${libdir}/libcapstone.a' >> $(PKGCFGF)"
Line: 638 - SEPARATOR: "
"
Line: 639 - RECIPE: "	echo 'Libs: -L$${libdir} -lcapstone' >> $(PKGCFGF)"
Line: 639 - SEPARATOR: "
"
Line: 640 - RECIPE: "	echo 'Libs.private: -L$${libdir} -l:libcapstone.a' >> $(PKGCFGF)"
Line: 640 - SEPARATOR: "
"
Line: 641 - RECIPE: "	echo 'Cflags: -I$${includedir}' >> $(PKGCFGF)"
Line: 641 - SEPARATOR: "
"
Line: 642 - RECIPE: "	echo 'archs=${CAPSTONE_ARCHS}' >> $(PKGCFGF)"
Line: 642 - SEPARATOR: "
"
Line: 643 - ENDEF: "endef"
syntax error error on line: 643
